<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤터즈랩(eventusLAB)</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <link rel="stylesheet" href="/css/manage_staff.css">
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard.css" />
</head>
<body>
    <div id="wrap">
        <div th:replace="~{common/side :: sidebar_manage ('manage_staff')}"></div>

        <!-- main -->
        <div class="content">
            <div class="container">
                <div class="page-header">
                    <div class="page-title">
                        <span>직원관리</span>
                    </div>
                    <div class="excel_download">
                        엑셀 데이터 다운로드
                    </div>
                </div>

                <div class="detail_bar">
                    <div class="detail1">
                        <img src="/imgs/material-view-list.svg">
                        <input type="button" value="직원현황">
                    </div>
                    
                </div>

                <div class="area">
                    <div class="search_area">
                        <input type="text" class="calendar">
                        <input type="text" class="word_search">
                    </div>
                    

                    <ul class="list">
                        <ol>
                            <li>No</li>
                            <li>행사명</li>
                            <li>이름</li>
                            <li>성별</li>
                            <li>생년월일</li>
                            <li>연락처</li>
                            <li>가입일자</li>
                            <li>근로계약서</li>
                        </ol>
                        <!-- db에서 가져온 mastervo 데이터를 thymeleaf를 사용하여 출력 -->
                        <ol th:block th:each="staff : ${staff_list}">
                            <li th:text="${staff.list_no}"></li>
                            <li th:text="${staff.event_title}"></li>
                            <li th:text="${staff.user_name}"></li>
                            <li th:text="${staff.user_gender}"></li>
                            <li th:text="${staff.user_birth}"></li>
                            <li th:text="${staff.user_phone}"></li>
                            <li th:text="${staff.user_date_join}"></li>
                            <li th:if="${staff.contract_check == 0}">미등록</li>
                            <li th:if="${staff.contract_check == 1}">등록완료</li>
                        </ol>


                    </ul>
                </div>

                <!-- 페이징 처리 -->
                <div>
                    <ul>
                        <!-- 이전 -->
                        <li th:if="${page <= 1}">
                            <a th:href="@{/manage_staff(page=1)}">&lt;</a>
                        </li>
                        <li th:if="${page > 1}">
                            <a th:href="@{/manage_staff(page=${page - 1})}">&lt;</a>
                        </li>

                        <!-- 번호 10개씩 -->
                        <li th:if="${startPage*10 <= totalPage}" th:each="i : ${#numbers.sequence(startPage, startPage + 10)}">
                            <a th:href="@{/manage_staff(page=${i})}" th:text="${i}"></a>
                        </li>

                        <li th:if="${startPage*10 > totalPage}" th:each="i : ${#numbers.sequence(startPage, totalPage)}">
                            <a th:href="@{/manage_staff(page=${i})}" th:text="${i}"></a>
                        </li>

                        <!-- 다음 -->
                        <li th:if="${page < totalPage}">
                            <a th:href="@{/manage_staff(page=${page+1})}">&gt;</a>
                        </li>
                        <li th:if="${page >= totalPage}">
                            <a th:href="@{/manage_staff(page=${totalPage})}">&gt;</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(function() {
            $(".excel_download").click(function() {
                // download to excel
                $.ajax({
                    url: "/staff_excel12",
                    method: "GET"
                }).done(function() {
                    alert("엑셀 파일을 다운로드합니다.");
                });
            });
        })
    </script>
</body>
</html>
